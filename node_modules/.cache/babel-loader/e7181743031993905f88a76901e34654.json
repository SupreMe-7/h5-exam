{"remainingRequest":"/Users/yang77/Desktop/h5-exam/node_modules/babel-loader/lib/index.js!/Users/yang77/Desktop/h5-exam/src/config/axios.js","dependencies":[{"path":"/Users/yang77/Desktop/h5-exam/src/config/axios.js","mtime":1584798093764},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpmdW5jdGlvbiByZXF1ZXN0U3VjY2Vzc0Z1bmMocmVxdWVzdE9iaikgewogIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdUT0tFTicpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1RPS0VOJykgOiAnJzsKCiAgaWYgKHRva2VuKSB7CiAgICByZXF1ZXN0T2JqLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRva2VuOwogIH0KCiAgcmV0dXJuIHJlcXVlc3RPYmo7Cn0KCmZ1bmN0aW9uIHJlcXVlc3RGYWlsRnVuYyhyZXF1ZXN0RXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVxdWVzdEVycm9yKTsKfQoKZnVuY3Rpb24gcmVzcG9uc2VTdWNjZXNzRnVuYyhyZXNwb25zZU9iaikgewogIC8vIFRPRE86IOWmguaenOi/lOWbnueahHJlc3VsdOS4ujkg5Luj6KGo5pyq55m75b2VIOi3s+i9rOWIsOeZu+W9lemhtQogIHZhciByZXNEYXRhID0gcmVzcG9uc2VPYmouZGF0YTsgLy8gY29uc3QgeyByZXN1bHQgfSA9IHJlc0RhdGE7CiAgLy8gaWYgKHJlc3VsdCA9PT0gOSkgewogIC8vICAgbG9jYXRpb24uaHJlZiA9ICd3d3cuYmFpZHUuY29tJwogIC8vIH0KCiAgcmV0dXJuIHJlc0RhdGE7Cn0KCmZ1bmN0aW9uIHJlc3BvbnNlRmFpbEZ1bmMocmVzcG9uc2VFcnJvcikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZUVycm9yKTsKfSAvLyDlkITkuKrphY3nva7nmoTpu5jorqTphY3nva4KCgp2YXIgQVhJT1NfREVGQVVMVF9DT05GSUcgPSB7CiAgdGltZW91dDogMjAwMDAsCiAgbWF4Q29udGVudExlbmd0aDogMjAwMAp9Owp2YXIgYXhpb3NJbnN0YW5jZSA9IHt9OwpheGlvc0luc3RhbmNlID0gYXhpb3MuY3JlYXRlKEFYSU9TX0RFRkFVTFRfQ09ORklHKTsgLy8g5rOo5YWl6K+35rGC5oum5oiqCgpheGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShyZXF1ZXN0U3VjY2Vzc0Z1bmMsIHJlcXVlc3RGYWlsRnVuYyk7IC8vIOazqOWFpeWksei0peaLpuaIqgoKYXhpb3NJbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlU3VjY2Vzc0Z1bmMsIHJlc3BvbnNlRmFpbEZ1bmMpOwpleHBvcnQgZGVmYXVsdCBheGlvc0luc3RhbmNlOw=="},{"version":3,"sources":["/Users/yang77/Desktop/h5-exam/src/config/axios.js"],"names":["axios","requestSuccessFunc","requestObj","token","localStorage","getItem","headers","Authorization","requestFailFunc","requestError","Promise","reject","responseSuccessFunc","responseObj","resData","data","responseFailFunc","responseError","AXIOS_DEFAULT_CONFIG","timeout","maxContentLength","axiosInstance","create","interceptors","request","use","response"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,kBAAT,CAA4BC,UAA5B,EAAwC;AACtC,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgCD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhC,GAAgE,EAA5E;;AACA,MAAIF,KAAJ,EAAW;AACTD,IAAAA,UAAU,CAACI,OAAX,CAAmBC,aAAnB,GAAmCJ,KAAnC;AACD;;AACD,SAAOD,UAAP;AACD;;AAED,SAASM,eAAT,CAAyBC,YAAzB,EAAuC;AACrC,SAAOC,OAAO,CAACC,MAAR,CAAeF,YAAf,CAAP;AACD;;AAED,SAASG,mBAAT,CAA6BC,WAA7B,EAA0C;AACxC;AACA,MAAMC,OAAO,GAAGD,WAAW,CAACE,IAA5B,CAFwC,CAGxC;AACA;AACA;AACA;;AACA,SAAOD,OAAP;AACD;;AAED,SAASE,gBAAT,CAA0BC,aAA1B,EAAyC;AACvC,SAAOP,OAAO,CAACC,MAAR,CAAeM,aAAf,CAAP;AACD,C,CAED;;;AACA,IAAMC,oBAAoB,GAAG;AAC3BC,EAAAA,OAAO,EAAE,KADkB;AAE3BC,EAAAA,gBAAgB,EAAE;AAFS,CAA7B;AAKA,IAAIC,aAAa,GAAG,EAApB;AAEAA,aAAa,GAAGrB,KAAK,CAACsB,MAAN,CAAaJ,oBAAb,CAAhB,C,CAEA;;AACAG,aAAa,CAACE,YAAd,CAA2BC,OAA3B,CAAmCC,GAAnC,CAAuCxB,kBAAvC,EAA2DO,eAA3D,E,CACA;;AACAa,aAAa,CAACE,YAAd,CAA2BG,QAA3B,CAAoCD,GAApC,CAAwCb,mBAAxC,EAA6DI,gBAA7D;AAEA,eAAeK,aAAf","sourcesContent":["import axios from 'axios'\n\nfunction requestSuccessFunc(requestObj) {\n  let token = localStorage.getItem('TOKEN') ? localStorage.getItem('TOKEN') : '';\n  if (token) {\n    requestObj.headers.Authorization = token\n  }\n  return requestObj\n}\n\nfunction requestFailFunc(requestError) {\n  return Promise.reject(requestError)\n}\n\nfunction responseSuccessFunc(responseObj) {\n  // TODO: 如果返回的result为9 代表未登录 跳转到登录页\n  const resData = responseObj.data\n  // const { result } = resData;\n  // if (result === 9) {\n  //   location.href = 'www.baidu.com'\n  // }\n  return resData\n}\n\nfunction responseFailFunc(responseError) {\n  return Promise.reject(responseError)\n}\n\n// 各个配置的默认配置\nconst AXIOS_DEFAULT_CONFIG = {\n  timeout: 20000,\n  maxContentLength: 2000\n}\n\nlet axiosInstance = {}\n\naxiosInstance = axios.create(AXIOS_DEFAULT_CONFIG)\n\n// 注入请求拦截\naxiosInstance.interceptors.request.use(requestSuccessFunc, requestFailFunc)\n// 注入失败拦截\naxiosInstance.interceptors.response.use(responseSuccessFunc, responseFailFunc)\n\nexport default axiosInstance\n"]}]}
{"remainingRequest":"/Users/yang77/Desktop/h5-exam/node_modules/thread-loader/dist/cjs.js!/Users/yang77/Desktop/h5-exam/node_modules/babel-loader/lib/index.js!/Users/yang77/Desktop/h5-exam/src/config/axios.js","dependencies":[{"path":"/Users/yang77/Desktop/h5-exam/src/config/axios.js","mtime":1585406232129},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpmdW5jdGlvbiByZXF1ZXN0U3VjY2Vzc0Z1bmMocmVxdWVzdE9iaikgewogIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdUT0tFTicpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1RPS0VOJykgOiAnJzsKCiAgaWYgKHRva2VuKSB7CiAgICByZXF1ZXN0T2JqLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRva2VuOwogIH0KCiAgcmV0dXJuIHJlcXVlc3RPYmo7Cn0KCmZ1bmN0aW9uIHJlcXVlc3RGYWlsRnVuYyhyZXF1ZXN0RXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVxdWVzdEVycm9yKTsKfQoKZnVuY3Rpb24gcmVzcG9uc2VTdWNjZXNzRnVuYyhyZXNwb25zZU9iaikgewogIHZhciByZXNEYXRhID0gcmVzcG9uc2VPYmouZGF0YTsKICB2YXIgcmVzdWx0ID0gcmVzRGF0YS5yZXN1bHQ7CgogIGlmIChyZXN1bHQgPT09IDkpIHsKICAgIGxvY2F0aW9uLmhyZWYgPSAnLyc7CiAgfQoKICByZXR1cm4gcmVzRGF0YTsKfQoKZnVuY3Rpb24gcmVzcG9uc2VGYWlsRnVuYyhyZXNwb25zZUVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlRXJyb3IpOwp9IC8vIOWQhOS4qumFjee9rueahOm7mOiupOmFjee9rgoKCnZhciBBWElPU19ERUZBVUxUX0NPTkZJRyA9IHsKICB0aW1lb3V0OiAyMDAwMCwKICBtYXhDb250ZW50TGVuZ3RoOiAyMDAwCn07CnZhciBheGlvc0luc3RhbmNlID0ge307CmF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoQVhJT1NfREVGQVVMVF9DT05GSUcpOyAvLyDms6jlhaXor7fmsYLmi6bmiKoKCmF4aW9zSW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKHJlcXVlc3RTdWNjZXNzRnVuYywgcmVxdWVzdEZhaWxGdW5jKTsgLy8g5rOo5YWl5aSx6LSl5oum5oiqCgpheGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UocmVzcG9uc2VTdWNjZXNzRnVuYywgcmVzcG9uc2VGYWlsRnVuYyk7CmV4cG9ydCBkZWZhdWx0IGF4aW9zSW5zdGFuY2U7"},{"version":3,"sources":["/Users/yang77/Desktop/h5-exam/src/config/axios.js"],"names":["axios","requestSuccessFunc","requestObj","token","localStorage","getItem","headers","Authorization","requestFailFunc","requestError","Promise","reject","responseSuccessFunc","responseObj","resData","data","result","location","href","responseFailFunc","responseError","AXIOS_DEFAULT_CONFIG","timeout","maxContentLength","axiosInstance","create","interceptors","request","use","response"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,kBAAT,CAA4BC,UAA5B,EAAwC;AACtC,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgCD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhC,GAAgE,EAA5E;;AACA,MAAIF,KAAJ,EAAW;AACTD,IAAAA,UAAU,CAACI,OAAX,CAAmBC,aAAnB,GAAmCJ,KAAnC;AACD;;AACD,SAAOD,UAAP;AACD;;AAED,SAASM,eAAT,CAAyBC,YAAzB,EAAuC;AACrC,SAAOC,OAAO,CAACC,MAAR,CAAeF,YAAf,CAAP;AACD;;AAED,SAASG,mBAAT,CAA6BC,WAA7B,EAA0C;AACxC,MAAMC,OAAO,GAAGD,WAAW,CAACE,IAA5B;AADwC,MAEhCC,MAFgC,GAErBF,OAFqB,CAEhCE,MAFgC;;AAGxC,MAAIA,MAAM,KAAK,CAAf,EAAkB;AAChBC,IAAAA,QAAQ,CAACC,IAAT,GAAgB,GAAhB;AACD;;AACD,SAAOJ,OAAP;AACD;;AAED,SAASK,gBAAT,CAA0BC,aAA1B,EAAyC;AACvC,SAAOV,OAAO,CAACC,MAAR,CAAeS,aAAf,CAAP;AACD,C,CAED;;;AACA,IAAMC,oBAAoB,GAAG;AAC3BC,EAAAA,OAAO,EAAE,KADkB;AAE3BC,EAAAA,gBAAgB,EAAE;AAFS,CAA7B;AAKA,IAAIC,aAAa,GAAG,EAApB;AAEAA,aAAa,GAAGxB,KAAK,CAACyB,MAAN,CAAaJ,oBAAb,CAAhB,C,CAEA;;AACAG,aAAa,CAACE,YAAd,CAA2BC,OAA3B,CAAmCC,GAAnC,CAAuC3B,kBAAvC,EAA2DO,eAA3D,E,CACA;;AACAgB,aAAa,CAACE,YAAd,CAA2BG,QAA3B,CAAoCD,GAApC,CAAwChB,mBAAxC,EAA6DO,gBAA7D;AAEA,eAAeK,aAAf","sourcesContent":["import axios from 'axios'\n\nfunction requestSuccessFunc(requestObj) {\n  let token = localStorage.getItem('TOKEN') ? localStorage.getItem('TOKEN') : '';\n  if (token) {\n    requestObj.headers.Authorization = token\n  }\n  return requestObj\n}\n\nfunction requestFailFunc(requestError) {\n  return Promise.reject(requestError)\n}\n\nfunction responseSuccessFunc(responseObj) {\n  const resData = responseObj.data\n  const { result } = resData;\n  if (result === 9) {\n    location.href = '/'\n  }\n  return resData\n}\n\nfunction responseFailFunc(responseError) {\n  return Promise.reject(responseError)\n}\n\n// 各个配置的默认配置\nconst AXIOS_DEFAULT_CONFIG = {\n  timeout: 20000,\n  maxContentLength: 2000,\n}\n\nlet axiosInstance = {}\n\naxiosInstance = axios.create(AXIOS_DEFAULT_CONFIG);\n\n// 注入请求拦截\naxiosInstance.interceptors.request.use(requestSuccessFunc, requestFailFunc)\n// 注入失败拦截\naxiosInstance.interceptors.response.use(responseSuccessFunc, responseFailFunc)\n\nexport default axiosInstance\n"]}]}
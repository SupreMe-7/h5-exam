{"remainingRequest":"/Users/yang77/Desktop/h5-exam/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yang77/Desktop/h5-exam/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yang77/Desktop/h5-exam/src/views/Login.vue","mtime":1584799273739},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yang77/Desktop/h5-exam/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGhvbmU6IG51bGwsCiAgICAgIGNvZGU6IG51bGwsCiAgICAgIHNlbmRUZXh0OiAn5Y+R6YCB6aqM6K+B56CBJywKICAgICAgc2VuZERpc2FibGU6IGZhbHNlCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSAn55+t5L+h55m76ZmGL+azqOWGjCcKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbmRDb2RlKCkgewogICAgICBsZXQgcmVnID0gbmV3IFJlZ0V4cCgvXjFcZHsxMH0kLyk7CiAgICAgIGlmKCFyZWcudGVzdCh0aGlzLnBob25lKSkgewogICAgICAgIHRoaXMuJHRvYXN0LnRleHQoJ+aJi+acuuWPt+agvOW8j+mUmeivrycpOwogICAgICAgIHJldHVybjsKICAgICAgfSAKICAgICAgdGhpcy4kYWpheC5wb3N0KCcvaG11L3VzZXIvc2VuZHNtcycsICdwaG9uZTonICsgdGhpcy5waG9uZSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy5jaGFuZ2VTZW5kVGV4dCgpOwogICAgICB9KQogICAgfSwKICAgIGNoYW5nZVNlbmRUZXh0KCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBsZXQgdGltZSA9IDYwCiAgICAgIHRoaXMuc2VuZERpc2FibGUgPSB0cnVlCiAgICAgIGxldCB0aW1lSW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIHRoYXQuc2VuZFRleHQgPSB0aW1lLS0gKyAn56eS5ZCO6YeN5Y+RJwogICAgICAgIGlmICh0aW1lID09PSAtMSkgewogICAgICAgICAgdGhhdC5zZW5kVGV4dCA9ICflj5HpgIHpqozor4HnoIEnCiAgICAgICAgICB0aGF0LnNlbmREaXNhYmxlID0gZmFsc2UKICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRpbWVJbnQpCiAgICAgICAgfQogICAgICB9LCAxMDAwKQogICAgfSwKICAgIGxvZ2luKCkgewogICAgICB0aGlzLiRhamF4LmdldCgncmVzL2V3ZmUnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiR0b2FzdC50ZXh0KGVycik7CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <nut-textinput\n      class=\"phone\"\n      v-model=\"phone\"\n      label=\"手机号:\"\n      placeholder=\"请输入手机号\"\n      :clearBtn=\"true\"\n      :disabled=\"false\"\n      :hasBorder=\"false\"\n    />\n    <div class=\"code\">\n      <nut-textinput\n        class=\"code-input\"\n        v-model=\"code\"\n        label=\"验证码:\"\n        placeholder=\"请输入验证码\"\n        :clearBtn=\"true\"\n        :disabled=\"false\"\n        :hasBorder=\"false\"\n      />\n      <nut-button\n        @click=\"sendCode\"\n        small\n        :disabled=\"sendDisable\"\n        class=\"send-code\"\n      >\n        {{ sendText }}\n      </nut-button>\n    </div>\n    <nut-button class=\"login-btn\" block @click=\"login\">\n      登录\n    </nut-button>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      phone: null,\n      code: null,\n      sendText: '发送验证码',\n      sendDisable: false\n    }\n  },\n  mounted() {\n    document.title = '短信登陆/注册'\n  },\n  methods: {\n    sendCode() {\n      let reg = new RegExp(/^1\\d{10}$/);\n      if(!reg.test(this.phone)) {\n        this.$toast.text('手机号格式错误');\n        return;\n      } \n      this.$ajax.post('/hmu/user/sendsms', 'phone:' + this.phone).then(res => {\n        console.log(res);\n        this.changeSendText();\n      })\n    },\n    changeSendText() {\n      const that = this\n      let time = 60\n      this.sendDisable = true\n      let timeInt = setInterval(() => {\n        that.sendText = time-- + '秒后重发'\n        if (time === -1) {\n          that.sendText = '发送验证码'\n          that.sendDisable = false\n          window.clearInterval(timeInt)\n        }\n      }, 1000)\n    },\n    login() {\n      this.$ajax.get('res/ewfe').then(res => {\n        console.log(res);\n      }).catch(err => {\n        this.$toast.text(err);\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login {\n  box-sizing: border-box;\n  margin: 50px 0 0 0;\n  padding: 20px;\n  .phone {\n    margin: 0 0 10px 0;\n    border-bottom: 1px solid #eaeaea;\n  }\n  .code {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 0 0 10px 0;\n    border-bottom: 1px solid #eaeaea;\n  }\n  .login-btn {\n    margin: 50px 0 0 0;\n  }\n}\n</style>\n\n<style lang=\"less\">\n.code-input {\n  input {\n    width: 140px;\n  }\n}\n</style>\n"]}]}